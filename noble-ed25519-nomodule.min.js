!function(){"use strict";
/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const e=2n**255n-19n,n=2n**252n+27742317777372353535851937790883648493n,t=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,r=0x6666666666666666666666666666666666666666666666666666666666666658n,s={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:e,n:n,h:8,Gx:t,Gy:r},i=(e="")=>{throw new Error(e)},o=e=>"string"==typeof e,a=(e,n)=>!(e instanceof Uint8Array)||"number"==typeof n&&n>0&&e.length!==n?i("Uint8Array expected"):e,c=e=>new Uint8Array(e),l=(e,n)=>a(o(e)?m(e):c(e),n),d=(n,t=e)=>{let r=n%t;return r>=0n?r:t+r},u=e=>e instanceof h?e:i("Point expected");let y;class h{constructor(e,n,t,r){this.ex=e,this.ey=n,this.ez=t,this.et=r}static fromAffine(e){return new h(e.x,e.y,1n,d(e.x*e.y))}static fromHex(n,t=!1){const{d:r}=s,o=(n=l(n,32)).slice(),a=n[31];o[31]=-129&a;const c=g(o);!t||0n<=c&&c<2n**256n||i("bad y coord 1"),t||0n<=c&&c<e||i("bad y coord 2");const u=d(c*c),y=d(u-1n),f=d(r*u+1n);let{isValid:w,value:b}=S(y,f);w||i("bad y coordinate 3");const p=1n===(1n&b),m=0!=(128&a);return!t&&0n===b&&m&&i("bad y coord 3"),m!==p&&(b=d(-b)),new h(b,c,1n,d(b*c))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:n,ey:t,ez:r}=this,{ex:s,ey:i,ez:o}=u(e),a=d(n*o),c=d(s*r),l=d(t*o),y=d(i*r);return a===c&&l===y}is0(){return this.equals(w)}negate(){return new h(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{ex:e,ey:n,ez:t}=this,{a:r}=s,i=d(e*e),o=d(n*n),a=d(2n*d(t*t)),c=d(r*i),l=e+n,u=d(d(l*l)-i-o),y=c+o,f=y-a,w=c-o,b=d(u*f),p=d(y*w),m=d(u*w),x=d(f*y);return new h(b,p,x,m)}add(e){const{ex:n,ey:t,ez:r,et:i}=this,{ex:o,ey:a,ez:c,et:l}=u(e),{a:y,d:f}=s,w=d(n*o),b=d(t*a),p=d(i*f*l),m=d(r*c),x=d((n+t)*(o+a)-w-b),g=d(m-p),A=d(m+p),B=d(b-y*w),v=d(x*g),R=d(A*B),S=d(x*B),E=d(g*A);return new h(v,R,E,S)}mul(e,t=!0){if(0n===e)return!0===t?i("cannot multiply by 0"):w;if("bigint"==typeof e&&0n<e&&e<n||i("invalid scalar, must be < L"),!t&&this.is0()||1n===e)return this;if(this.equals(f))return j(e).p;let r=w,s=f;for(let n=this;e>0n;n=n.double(),e>>=1n)1n&e?r=r.add(n):t&&(s=s.add(n));return r}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(s.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(n/2n,!1).double();return n%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:n,ez:t}=this;if(this.is0())return{x:0n,y:0n};const r=B(t);return 1n!==d(t*r)&&i("invalid inverse"),{x:d(e*r),y:d(n*r)}}toRawBytes(){const{x:e,y:n}=this.toAffine(),t=x(n);return t[31]|=1n&e?128:0,t}toHex(){return p(this.toRawBytes())}}h.BASE=new h(t,r,1n,d(t*r)),h.ZERO=new h(0n,1n,1n,0n);const{BASE:f,ZERO:w}=h,b=(e,n)=>e.toString(16).padStart(n,"0"),p=e=>Array.from(e).map((e=>b(e,2))).join(""),m=e=>{const n=e.length;(!o(e)||n%2)&&i("hex invalid 1");const t=c(n/2);for(let n=0;n<t.length;n++){const r=2*n,s=e.slice(r,r+2),o=Number.parseInt(s,16);(Number.isNaN(o)||o<0)&&i("hex invalid 2"),t[n]=o}return t},x=e=>m(b(e,64)).reverse(),g=e=>BigInt("0x"+p(c(a(e)).reverse())),A=(...e)=>{const n=c(e.reduce(((e,n)=>e+a(n).length),0));let t=0;return e.forEach((e=>{n.set(e,t),t+=e.length})),n},B=(n,t=e)=>{(0n===n||t<=0n)&&i("no inverse n="+n+" mod="+t);let r=d(n,t),s=t,o=0n,a=1n,c=1n,l=0n;for(;0n!==r;){const e=s/r,n=s%r,t=o-c*e,i=a-l*e;s=r,r=n,o=c,a=l,c=t,l=i}return 1n===s?d(o,t):i("no inverse")},v=(n,t)=>{let r=n;for(;t-- >0n;)r*=r,r%=e;return r},R=19681161376707505956807079304988542015446066515923890162744021073123829784752n,S=(n,t)=>{const r=d(t*t*t),s=(n=>{const t=n*n%e*n%e,r=v(t,2n)*t%e,s=v(r,1n)*n%e,i=v(s,5n)*s%e,o=v(i,10n)*i%e,a=v(o,20n)*o%e,c=v(a,40n)*a%e,l=v(c,80n)*c%e,d=v(l,80n)*c%e,u=v(d,10n)*i%e;return{pow_p_5_8:v(u,2n)*n%e,b2:t}})(n*d(r*r*t)).pow_p_5_8;let i=d(n*r*s);const o=d(t*i*i),a=i,c=d(i*R),l=o===n,u=o===d(-n),y=o===d(-n*R);return l&&(i=a),(u||y)&&(i=c),1n===(1n&d(i))&&(i=d(-i)),{isValid:l||u,value:i}},E=e=>d(g(e),n);let z;const P=(...e)=>C.sha512Async(...e),V=(...e)=>"function"==typeof z?z(...e):i("etc.sha512Sync not set"),H=e=>{const n=e.slice(0,32);n[0]&=248,n[31]&=127,n[31]|=64;const t=e.slice(32,64),r=E(n),s=f.mul(r),i=s.toRawBytes();return{head:n,prefix:t,scalar:r,point:s,pointBytes:i}},T=e=>P(l(e,32)).then(H),U=e=>H(V(l(e,32)));function _(e,n){return e?P(n.hashable).then(n.finish):n.finish(V(n.hashable))}const I=(e,t,r)=>{const{pointBytes:s,scalar:i}=e,o=E(t),c=f.mul(o).toRawBytes();return{hashable:A(c,s,r),finish:e=>{const t=d(o+E(e)*i,n);return a(A(c,x(t)),64)}}},K={zip215:!0},N=(e,n,t,r=K)=>{n=l(n),e=l(e,64);const{zip215:s}=r;let i,o,a,c,d=new Uint8Array;try{i=h.fromHex(t,s),o=h.fromHex(e.slice(0,32),s),a=g(e.slice(32,64)),c=f.mul(a,!1),d=A(o.toRawBytes(),i.toRawBytes(),n)}catch(e){}return{hashable:d,finish:e=>{if(null==c)return!1;if(!s&&i.isSmallOrder())return!1;const n=E(e);return o.add(i.mul(n,!1)).add(c.negate()).clearCofactor().is0()}}},O=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,C={bytesToHex:p,hexToBytes:m,concatBytes:A,mod:d,invert:B,randomBytes:e=>{const n=O();return n&&n.getRandomValues||i("crypto.getRandomValues must be defined"),n.getRandomValues(c(e))},sha512Async:async(...e)=>{const n=O();n&&n.subtle||i("crypto.subtle or etc.sha512Async must be defined");const t=A(...e);return c(await n.subtle.digest("SHA-512",t.buffer))},sha512Sync:void 0};Object.defineProperties(C,{sha512Sync:{configurable:!1,get:()=>z,set(e){z||(z=e)}}});const G={getExtendedPublicKeyAsync:T,getExtendedPublicKey:U,randomPrivateKey:()=>C.randomBytes(32),precompute:(e=8,n=f)=>(n.multiply(3n),n)},j=e=>{const n=y||(y=(()=>{const e=[];let n=f,t=n;for(let r=0;r<33;r++){t=n,e.push(t);for(let r=1;r<128;r++)t=t.add(n),e.push(t);n=t.double()}return e})()),t=(e,n)=>{let t=n.negate();return e?t:n};let r=w,s=f;const i=BigInt(255),o=BigInt(8);for(let a=0;a<33;a++){const c=128*a;let l=Number(e&i);e>>=o,l>128&&(l-=256,e+=1n);const d=c,u=c+Math.abs(l)-1,y=a%2!=0,h=l<0;0===l?s=s.add(t(y,n[d])):r=r.add(t(h,n[u]))}return{p:r,f:s}};window.edGetPublicKey=e=>U(e).pointBytes,window.edGetPublicKeyAsync=e=>T(e).then((e=>e.pointBytes)),window.edSign=(e,n)=>{const t=l(e),r=U(n),s=V(r.prefix,t);return _(!1,I(r,s,t))},window.edVerify=(e,n,t,r=K)=>_(!1,N(e,n,t,r)),window.edSignAsync=async(e,n)=>{const t=l(e),r=await T(n),s=await P(r.prefix,t);return _(!0,I(r,s,t))},window.edVerifyAsync=async(e,n,t,r=K)=>_(!0,N(e,n,t,r)),window.edCURVE=s,window.edEtc=C,window.edUtils=G,window.ExtendedPoint=h}();